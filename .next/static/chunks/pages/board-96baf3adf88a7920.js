(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[743],{7107:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/board",function(){return n(5366)}])},5366:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return v},default:function(){return w}});var a=n(5893),s=n(7294),i=n(9008),r=n.n(i),o=n(1664),c=n.n(o),l=n(3182),d=n.n(l),u=n(6893),f=n(3723),x=n.n(f);function h(){return(0,a.jsx)("div",{className:x().doanteContainer,children:(0,a.jsx)(c(),{href:"/donate",children:(0,a.jsx)("button",{children:"Apoiar"})})})}var j=n(1510),p=n(7926),_=n(9081),m=n(2523),v=!0;function w(e){let{user:t,data:n}=e,[i,o]=(0,s.useState)(""),[l,f]=(0,s.useState)(JSON.parse(n)),[x,v]=(0,s.useState)(null);async function w(e){if(e.preventDefault(),""===i){alert("Preencha alguma tarefa!");return}if(x){await m.Z.firestore().collection("tarefas").doc(x.id).update({tarefa:i}).then(()=>{let e=l;e[l.findIndex(e=>e.id===x.id)].tarefa=i,f(e),v(null),o("")});return}await m.Z.firestore().collection("tarefas").add({created:new Date,tarefa:i,userId:t.id,nome:t.nome}).then(e=>{console.log("CADASTRADO COM SUCESSO!"),f([...l,{id:e.id,created:new Date,createdFormated:(0,j.Z)(new Date,"dd MMMM yyyy"),tarefa:i,userId:t.id,nome:t.nome}]),o("")}).catch(e=>{console.log("ERRO AO CADASTRAR: ",e)})}async function C(e){await m.Z.firestore().collection("tarefas").doc(e).delete().then(()=>{f(l.filter(t=>t.id!=e))}).catch(e=>{console.log(e)})}return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r(),{children:(0,a.jsx)("title",{children:"Minhas tarefas - Board"})}),(0,a.jsxs)("main",{className:d().container,children:[x&&(0,a.jsxs)("span",{className:d().warnText,children:[(0,a.jsx)("button",{onClick:function(){o(""),v(null)},children:(0,a.jsx)(u.q5L,{size:30,color:"#ff3636"})}),"Voc\xea est\xe1 editando uma tarefa!"]}),(0,a.jsxs)("form",{onSubmit:w,children:[(0,a.jsx)("input",{type:"text",placeholder:"Digite sua tarefa...",value:i,onChange:e=>o(e.target.value)}),(0,a.jsx)("button",{type:"submit",children:(0,a.jsx)(u.OvN,{size:25,color:"#17181f"})})]}),(0,a.jsxs)("h1",{children:["Voc\xea tem ",l.length," ",1===l.length?"Tarefa":"Tarefas","!"]}),(0,a.jsx)("section",{children:l.map(e=>(0,a.jsxs)("article",{className:d().taskList,children:[(0,a.jsx)(c(),{href:"/board/".concat(e.id),children:(0,a.jsx)("p",{children:e.tarefa})}),(0,a.jsxs)("div",{className:d().actions,children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(u.vlc,{size:20,color:"#FFB800"}),(0,a.jsx)("time",{children:e.createdFormated})]}),t.vip&&(0,a.jsxs)("button",{onClick:()=>{v(e),o(e.tarefa)},children:[(0,a.jsx)(u.IYd,{size:20,color:"#FFF"}),(0,a.jsx)("span",{children:"Editar"})]})]}),(0,a.jsxs)("button",{onClick:()=>C(e.id),children:[(0,a.jsx)(u.We9,{size:20,color:"#FF3636"}),(0,a.jsx)("span",{children:"Excluir"})]})]})]},e.id))})]}),t.vip&&(0,a.jsxs)("div",{className:d().vipContainer,children:[(0,a.jsx)("h3",{children:"Obrigado por apoiar esse projeto."}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.TCC,{size:28,color:"#FFF"}),(0,a.jsxs)("time",{children:["\xdaltima doa\xe7\xe3o foi ",(0,p.Z)(new Date(t.lastDonate),new Date,{locale:_.Z})]})]})]}),(0,a.jsx)(h,{})]})}},2523:function(e,t,n){"use strict";var a=n(5503);n(2257),a.Z.apps.length||a.Z.initializeApp({apiKey:"AIzaSyBHfB9adSgkTFsrXbgH_bdtNZW_HM61U2c",authDomain:"jf-sol.firebaseapp.com",projectId:"jf-sol",storageBucket:"jf-sol.appspot.com",messagingSenderId:"337441756696",appId:"1:337441756696:web:33aa39398047f538c4d56d",measurementId:"G-1JPE1SNRWY"}),t.Z=a.Z},3723:function(e){e.exports={doanteContainer:"styles_doanteContainer__HBG4R"}},3182:function(e){e.exports={container:"styles_container__0r8t5",warnText:"styles_warnText__1TfoD",taskList:"styles_taskList__1WMLz",actions:"styles_actions__vdumB",vipContainer:"styles_vipContainer__nv9ZZ"}}},function(e){e.O(0,[504,385,317,774,888,179],function(){return e(e.s=7107)}),_N_E=e.O()}]);